<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="generator" content="Pelican" />
        <title>Srikanth Vemaraju</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">Srikanth Vemaraju</a></h1>
                <nav><ul>
                    <li><a href="/category/databases.html">Databases</a></li>
                    <li><a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/reading.html">Reading</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/python-string-interning.html">String interning; discovering how python is saving my RAM.</a></h1>
<footer class="post-info">
        <abbr class="published" title="2024-01-12T22:00:00+00:00">
                Published: Fri 12 January 2024
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/python.html">Python</a>.</p>

</footer><!-- /.post-info --><p>When it comes to code conundrums, a quick visit to google or chatgpt usually satisfies my curiosity. However, I felt reluctant to read a bunch of blog posts and opted to write some code instead. This led me to discovering string interning in Python. </p>
<p>I have written a fair amount of code and by no means I am an expert. But over the years there has been a natural decline in discovering new things. That's the reason why I am so excited to share this article. </p>
<p>Unpacking the internal workings of CPython by observing a series of code snippets complimented by poring over specifics parts of python docs and aided some excellent articles. The very articles which I expertly avoided earlier, not because I chose not click but because I did not possess the knowledge to type the right search terms at the beginning. </p>
<p>A high level view of the following article:
1. Context and observing the behaviour: I explain my motivation to understand parts of Python behaviour and the onset of my quest.
2. Learning about the internals: I observed enough and was ready for some answers. I dig into python docs, continue observing and finally find out some truths.
3. Where does this come to play: I make my conclusions while carrying on looking at more interesting angles of string interning.</p>
<p><img alt="how python saves memory by string interning" src="/images/string-interning.png"></p>
<h2>Context and observing the behaviour.</h2>
<p>I was watching a video on programming basics as I was interested in how people explain these concepts to beginners. At one point there was a discussion on "pass by value" and "pass by reference". I have read about them in my undergraduate course. But I rarely think of them when I code in Python. </p>
<p>Instead of watching a video on the topic, I began to write some code to observe how arguments are passed to a function in Python.</p>
<p>I start with something familiar. Passing a <code>list</code> to a function and mutating the list will mutate the variable outside the function.</p>
<div class="highlight"><pre><span></span><code><span class="n">pets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dogs&quot;</span><span class="p">,</span> <span class="s2">&quot;kittens&quot;</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">add_pets</span><span class="p">(</span><span class="n">pets</span><span class="p">):</span>
    <span class="n">pets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;hamsters&quot;</span><span class="p">)</span>


<span class="n">add_pets</span><span class="p">(</span><span class="n">pets</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pets</span><span class="p">)</span>

<span class="c1"># output</span>
<span class="p">[</span><span class="s1">&#39;dogs&#39;</span><span class="p">,</span> <span class="s1">&#39;kittens&#39;</span><span class="p">,</span> <span class="s1">&#39;hamsters&#39;</span><span class="p">]</span>
</code></pre></div>

<p>To further confirm my understanding, I used built-in <code>id</code> function to verify that <code>pets</code> inside the function and <code>pets</code> outside the function point to the same object.</p>
<div class="highlight"><pre><span></span><code><span class="n">pets</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;dogs&quot;</span><span class="p">,</span> <span class="s2">&quot;kittens&quot;</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">add_pets</span><span class="p">(</span><span class="n">pets</span><span class="p">):</span>
    <span class="n">pets</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;hamsters&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID of pets inside add_pets </span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">pets</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">add_pets</span><span class="p">(</span><span class="n">pets</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID of pets outside add_pets </span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">pets</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># output</span>
<span class="n">ID</span> <span class="n">of</span> <span class="n">pets</span> <span class="n">inside</span> <span class="n">add_pets</span> <span class="mi">4302154624</span>
<span class="n">ID</span> <span class="n">of</span> <span class="n">pets</span> <span class="n">outside</span> <span class="n">add_pets</span> <span class="mi">4302154624</span>
</code></pre></div>

<p>Lists are mutable in Python, but strings are not. So I try the following code.</p>
<div class="highlight"><pre><span></span><code><span class="n">pet</span> <span class="o">=</span> <span class="s2">&quot;Panda&quot;</span>
<span class="k">def</span> <span class="nf">zoo</span><span class="p">(</span><span class="n">pet</span><span class="p">):</span>
    <span class="n">pet</span> <span class="o">+=</span> <span class="s2">&quot; Cow&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID of &#39;</span><span class="si">{</span><span class="n">pet</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">pet</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">zoo</span><span class="p">(</span><span class="n">pet</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pet</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID of &#39;</span><span class="si">{</span><span class="n">pet</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">pet</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># output</span>
<span class="n">ID</span> <span class="n">of</span> <span class="s1">&#39;Panda Cow&#39;</span><span class="p">:</span> <span class="mi">4304152176</span>
<span class="n">Panda</span>
<span class="n">ID</span> <span class="n">of</span> <span class="s1">&#39;Panda&#39;</span><span class="p">:</span> <span class="mi">4304151280</span>
</code></pre></div>

<p>Both the value and the memory location of the variable <code>pet</code> inside the function are different from those outside.</p>
<p><strong>So does that mean, lists are passed by reference but strings are passed by value?</strong> I just wanted to try running one more piece of code before Googling that.</p>
<div class="highlight"><pre><span></span><code><span class="n">pet</span> <span class="o">=</span> <span class="s2">&quot;Panda&quot;</span>
<span class="k">def</span> <span class="nf">zoo</span><span class="p">(</span><span class="n">pet</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID of &#39;</span><span class="si">{</span><span class="n">pet</span><span class="si">}</span><span class="s2">&#39; inside foo: </span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">pet</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID of &#39;</span><span class="si">{</span><span class="n">pet</span><span class="si">}</span><span class="s2">&#39; outside foo: </span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">zoo</span><span class="p">(</span><span class="n">pet</span><span class="p">)</span>
</code></pre></div>

<p>The result of the above code was a bit unexpected for me.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ----output----</span>
<span class="n">ID</span> <span class="n">outside</span> <span class="n">foo</span><span class="p">:</span> <span class="mi">4343585264</span>
<span class="n">ID</span> <span class="n">inside</span> <span class="n">foo</span><span class="p">:</span> <span class="mi">4343585264</span>
</code></pre></div>

<p>It seems that inside the function the variable that are passed refer to the same object location of the variables outside the function. When the variable gets reassigned, as in the case of immutable string, the variable starts pointing to a different memory location.</p>
<h2>Learning about the internals.</h2>
<p>I quickly found the FAQ page on docs.python.org. Anwering a question about call-by-refernce in Python, it reads as following --</p>
<blockquote>
<p>"Remember that arguments are passed by assignment in Python. Since assignment just creates references to objects, there’s no alias between an argument name in the caller and callee, and so no call-by-reference per se."</p>
</blockquote>
<p>"assignment just creates references to objects", that matches with what I have observed before. When I called function <code>zoo</code> by passing <code>pet</code>, the <code>pet</code> inside the function had the same reference as outside. The quote from the docs talks about assignment in general rather than being limited to passing variables to function. That made me write the following code.</p>
<div class="highlight"><pre><span></span><code><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;azure&quot;</span>
<span class="n">cloud</span> <span class="o">=</span> <span class="n">color</span>

<span class="nb">id</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">cloud</span><span class="p">)</span>
<span class="c1"># ----output----</span>
<span class="kc">True</span>

<span class="n">rainforest</span> <span class="o">=</span> <span class="s2">&quot;amazon&quot;</span>
<span class="n">cloud</span> <span class="o">=</span> <span class="n">rainforest</span>

<span class="nb">id</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">rainforest</span><span class="p">)</span>
<span class="c1"># ----output----</span>
<span class="kc">True</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;azure&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">]</span>
<span class="n">clouds</span> <span class="o">=</span> <span class="n">colors</span>

<span class="nb">id</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">clouds</span><span class="p">)</span>
<span class="c1"># ----output----</span>
<span class="kc">True</span>
</code></pre></div>

<p>Since <code>cloud</code> was assigned to <code>color</code> or <code>rainforest</code> it referenced to either of their memory locations, as do <code>colors</code> and <code>clouds</code>. What if the variables are assigned directly to the values instead?</p>
<div class="highlight"><pre><span></span><code><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;azure&quot;</span>
<span class="n">cloud</span> <span class="o">=</span> <span class="s2">&quot;azure&quot;</span>

<span class="nb">id</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">cloud</span><span class="p">)</span>
<span class="c1"># ----output----</span>
<span class="kc">True</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;azure&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">]</span>
<span class="n">clouds</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;azure&quot;</span><span class="p">,</span> <span class="s2">&quot;black&quot;</span><span class="p">]</span>

<span class="nb">id</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">clouds</span><span class="p">)</span>
<span class="c1"># ----output----</span>
<span class="kc">False</span>
</code></pre></div>

<p>The strings <code>color</code> and <code>cloud</code> both reference the same memory location even though they have not been assigned to each other. However, the lists <code>colors</code> and <code>clouds</code> are pointing to different locations in the memory.</p>
<p>I printed the bytecode of the above and observed the parts relating to strings and list assignment.</p>
<div class="highlight"><pre><span></span><code>  1           2 LOAD_CONST               0 (&#39;azure&#39;)
              4 STORE_NAME               0 (color)

  2           6 LOAD_CONST               0 (&#39;azure&#39;)
              8 STORE_NAME               1 (cloud)
...
  7         102 LOAD_CONST               0 (&#39;azure&#39;)
            104 LOAD_CONST               3 (&#39;black&#39;)
            106 BUILD_LIST               2
            108 STORE_NAME               4 (colors)

  8         110 LOAD_CONST               0 (&#39;azure&#39;)
            112 LOAD_CONST               3 (&#39;black&#39;)
            114 BUILD_LIST               2
            116 STORE_NAME               5 (clouds)
</code></pre></div>

<p>Whenever there is a string literal <code>LOAD_CONST</code> operation is being performed. What exactly is this <code>LOAD_CONST</code>?</p>
<p><a href="https://docs.python.org/3/library/dis.html#opcode-LOAD_CONST">Python docs</a> have a minimal definition.</p>
<blockquote>
<p>Pushes <code>co_consts[consti]</code> onto the stack.</p>
</blockquote>
<p>I find out that <code>co_consts</code> is the list (in tuple form) of all constants in bytecode. Python code is not directly interpreted at the time of execution instead it is first compiled. One of the outputs of compiling is bytecode, which is the set of instructions executed by the python virtual machine. </p>
<p>Everything in python is an object and that applies to the code that is compiled. We can access the code object of a function like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="n">a</span> <span class="o">=</span> <span class="s2">&quot;jello&quot;</span>

<span class="n">foo</span><span class="o">.</span><span class="vm">__code__</span>
<span class="c1">#---- output ----</span>
<span class="o">&lt;</span><span class="n">code</span> <span class="nb">object</span> <span class="n">foo</span> <span class="n">at</span> <span class="mh">0x100e1c920</span><span class="p">,</span> <span class="n">file</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="o">&gt;</span>
</code></pre></div>

<p>And the code object hosts the <code>co_consts</code> tuple.</p>
<div class="highlight"><pre><span></span><code><span class="n">foo</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_consts</span>
<span class="c1">#----output----</span>
<span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;jello&#39;</span><span class="p">)</span>
</code></pre></div>

<p>A fun fact I discovered during this process, I can see <code>None</code> part of <code>co_consts</code> of my <code>foo</code>. But I don't use <code>None</code> anywhere. It turns out Python only ever has one instance of <code>None</code> at all times. All the <code>None</code> objects we use and pass around in our code point to a single instance of <code>None</code>.</p>
<h2>Where does this come to play</h2>
<p>Once I discovered string interning I quickly imagined how all the memory must have been getting saved, and my code is secretly being optimised without my knowledge. While it is definitely an optimization that speeds up a lot of computation, it's apparently not necessarily in action all the time. </p>
<p>What I found to be puzzling at first is the fact that strings with spaces are <strong>not</strong> interned.</p>
<div class="highlight"><pre><span></span><code><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;ms azure&quot;</span>
<span class="n">cloud</span> <span class="o">=</span> <span class="s2">&quot;ms azure&quot;</span> 
<span class="nb">id</span><span class="p">(</span><span class="n">color</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">cloud</span><span class="p">)</span>
<span class="c1"># ----output----</span>
<span class="kc">False</span>
</code></pre></div>

<p>I found <a href="https://www.youtube.com/watch?v=QpGK69LzfpY">this excellent deep dive on Youtube</a>, and its shown the CPython code checks for alphanumeric strings with underscores but no spaces when deciding to intern a string.</p>
<p><a href="https://github.com/python/cpython/blob/a47353d587b78bb5501b21343d9bca739c49a43a/Objects/codeobject.c#L104">From CPython's codeobject.c</a></p>
<div class="highlight"><pre><span></span><code><span class="cm">/* all_name_chars(s): true iff s matches [a-zA-Z0-9_]* */</span>
<span class="k">static</span><span class="w"> </span><span class="kt">int</span>
<span class="nf">all_name_chars</span><span class="p">(</span><span class="n">PyObject</span><span class="w"> </span><span class="o">*</span><span class="n">o</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">e</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">PyUnicode_IS_ASCII</span><span class="p">(</span><span class="n">o</span><span class="p">))</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PyUnicode_1BYTE_DATA</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
<span class="w">    </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">PyUnicode_GET_LENGTH</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">e</span><span class="p">;</span><span class="w"> </span><span class="n">s</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">Py_ISALNUM</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;_&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>When we think about it, strings are interned at compile time. So it doesn't come handy in many cases of programming which often deal with string input over HTTP, command line or files. To confirm I ran the following code.</p>
<div class="highlight"><pre><span></span><code><span class="n">hardcode_animal</span> <span class="o">=</span> <span class="s2">&quot;chimpanzee&quot;</span>
<span class="n">input_animal</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;enter animal name: &quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Are hardcode_animal and input_animal have same id:&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="p">(</span><span class="n">hardcode_animal</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">input_animal</span><span class="p">))</span>
<span class="c1">#---output--- </span>
<span class="n">enter</span> <span class="n">animal</span> <span class="n">name</span><span class="p">:</span> <span class="n">chimpanzee</span>
<span class="n">Are</span> <span class="n">hardcode_animal</span> <span class="ow">and</span> <span class="n">input_animal</span> <span class="n">have</span> <span class="n">same</span> <span class="nb">id</span><span class="p">:</span> <span class="kc">False</span>
</code></pre></div>

<p>This brings us to the question, where is it actually used? In managing (hundreds of) thousands of lines of code that every python program needs. Even a simple <code>print("hello world")</code> requires the several  functions and classes to be imported into the interpreter. Imagine a more complex program with a long list of third party dependencies. Names of functions, methods, classes and other variables are the perfect candidates for string interning.</p>
<p>So that's my adventure into CPython's string interning. Understanding how strings are interned at compile time, and the nuances of when and where this optimization comes into play, sheds light on the intricacies of Python's memory management. While string interning may not be evident in everyday code, its impact is profound in managing large codebases and optimizing the performance of Python programs. </p>
<p>Further reading:</p>
<ul>
<li><a href="http://guilload.com/python-string-interning/">The internals of Python string interning</a></li>
<li><a href="https://arpitbhayani.me/blogs/string-interning-python/">How python optimises its runtime using string interning</a></li>
<li><a href="https://devguide.python.org/internals/">CPython’s internals: official developer guide</a></li>
</ul>
<p>If you liked this article, you may like some of my previous articles:</p>
<ul>
<li>
<h2><a href="/django-model-detection.html">How Django keeps track of your model classes?</a></h2>
</li>
<li>
<h2><a href="/ttd-online-booking.html">System Design Case Study: How do millions of people book meetings with God?</a></h2>
</li>
</ul>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/django-model-detection.html" rel="bookmark"
                           title="Permalink to How Django keeps track of your model classes?">How Django keeps track of your model classes?</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-12-05T20:00:00+00:00">
                Published: Tue 05 December 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>

</footer><!-- /.post-info -->                <p>Sometimes software feels like magic. But the great thing about open source software is that you can read the code and decode the magic for yourself.</p>
                <a class="readmore" href="/django-model-detection.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/ttd-online-booking.html" rel="bookmark"
                           title="Permalink to How do millions of people book meetings with God?">How do millions of people book meetings with God?</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-08-16T20:00:00+01:00">
                Published: Wed 16 August 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>

</footer><!-- /.post-info -->                <p>Building software applications that handle millions of concurrent users is hard. Designing such applications need both technical skill and some creative product design. In this blog, I review Tirumala Tirupathi Devasthanam's (TTD) online booking system for the devotees. I explain the challenges behind such system and try suggest a better way to design a booking system that needs to serve millions of users.</p>
                <a class="readmore" href="/ttd-online-booking.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/messy-code.html" rel="bookmark"
                           title="Permalink to Start by writing messy code">Start by writing messy code</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-07-31T20:00:00+01:00">
                Published: Mon 31 July 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> <a href="/tag/design.html">design</a> </p>
</footer><!-- /.post-info -->                <p>The conventional wisdom in software engineering advocates for breaking down code into loosely coupled functions, classes, and modules, among other things. Numerous books and blog posts discuss various approaches that help us achieve the best possible design for our code.</p>
<p>Sometimes, we may get lucky and find a design pattern …</p>
                <a class="readmore" href="/messy-code.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/maintainer-mindset.html" rel="bookmark"
                           title="Permalink to How I developed a maintainer mindset?">How I developed a maintainer mindset?</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-07-26T20:00:00+01:00">
                Published: Wed 26 July 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>
<p>tags: <a href="/tag/career.html">career</a> </p>
</footer><!-- /.post-info -->                <p>Lurking on the internet forums related to software engineering, you will often find people asking questions like:</p>
<ul>
<li>Is getting accepting a support role bad for your career?</li>
<li>How do I get out of a support job?</li>
<li>Is technical support experience valuable? </li>
</ul>
<p>I found myself asking these same questions some years …</p>
                <a class="readmore" href="/maintainer-mindset.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/what-is-deployment.html" rel="bookmark"
                           title="Permalink to Deploying software is like opening a bakery 🧁">Deploying software is like opening a bakery 🧁</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-07-22T20:00:00+01:00">
                Published: Sat 22 July 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>
<p>tags: <a href="/tag/backend-engineering.html">backend engineering</a> <a href="/tag/beginners.html">beginners</a> </p>
</footer><!-- /.post-info -->                <p>What the hell is a deployment? That's what my wife asked me when she came across this word on her beginner's IT course. </p>
<p>I was honestly stumped. </p>
<p>Sofware development is full of jargon. As I have spent years working in this field I have developed a habit of collecting the …</p>
                <a class="readmore" href="/what-is-deployment.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/orm-vs-raw-sql.html" rel="bookmark"
                           title="Permalink to Using an ORM over writing raw SQL queries ...">Using an ORM over writing raw SQL queries ...</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-07-04T20:00:00+01:00">
                Published: Tue 04 July 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/databases.html">Databases</a>.</p>
<p>tags: <a href="/tag/backend-engineering.html">backend engineering</a> <a href="/tag/database.html">database</a> <a href="/tag/orm.html">orm</a> </p>
</footer><!-- /.post-info -->                <p>I hear strong opinions among developers for both ways of working with relational database.</p>
<p>Common reasons in favour of raw SQL:</p>
<ul>
<li>
<p>We can optimise queries for performance. ORMs can be limited in ways they can be customised, and writing raw SQL allows more control over the craft.</p>
</li>
<li>
<p>We have less …</p></li></ul>
                <a class="readmore" href="/orm-vs-raw-sql.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/backend-user-experience.html" rel="bookmark"
                           title="Permalink to 🌟 How can a backend developer contribute to a seamless user experience? 🌟">🌟 How can a backend developer contribute to a seamless user experience? 🌟</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-06-19T20:00:00+01:00">
                Published: Mon 19 June 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>
<p>tags: <a href="/tag/backend-engineering.html">backend engineering</a> <a href="/tag/database.html">database</a> </p>
</footer><!-- /.post-info -->                <p>As a backend developer, it's easy to get lost behind multiple layers of the modern tech stack and focus solely on reading and writing data through the plumbing of software systems. However, it's important to recognize the impact we can have in contributing positively to the user experience. Our goal …</p>
                <a class="readmore" href="/backend-user-experience.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/norm-vs-denorm.html" rel="bookmark"
                           title="Permalink to 🔄 Tradeoff between Normalisation and Denormalisation when Scaling Your API 📈🔁">🔄 Tradeoff between Normalisation and Denormalisation when Scaling Your API 📈🔁</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2023-05-30T20:00:00+01:00">
                Published: Tue 30 May 2023
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/databases.html">Databases</a>.</p>

</footer><!-- /.post-info -->                <p>There's something I have managed to crystallise for myself. As a Backend Engineer, I deal with designing relational database models often. Modelling the database is a crucial step in getting the API right in any modern application.</p>
<p>There is a delicate trade-off between normalisation and denormalisation while modelling a relational …</p>
                <a class="readmore" href="/norm-vs-denorm.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/5-simple-recursion-programs-in-python.html" rel="bookmark"
                           title="Permalink to 5 Simple Recursion Programs in Python.">5 Simple Recursion Programs in Python.</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-09-05T20:00:01+05:30">
                Published: Sat 05 September 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/python.html">Python</a>.</p>

</footer><!-- /.post-info -->                <p>Here are 5 simple Python recursive functions that will get you started with the practicing recursion.</p>
<p>These are exercise problems taken from the book - <em>Data Structures and Algorithms in Python Michael H. Goldwasser, Michael T. Goodrich, and Roberto Tamassia</em></p>
<h3>Write a short recursive Python function that finds the minimum and …</h3>
                <a class="readmore" href="/5-simple-recursion-programs-in-python.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/learn-by-building-a-data-pipeline-part-0.html" rel="bookmark"
                           title="Permalink to Learn By Building A Data Pipeline – Part 0">Learn By Building A Data Pipeline –  Part 0</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2020-03-28T12:00:01+05:30">
                Published: Sat 28 March 2020
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/python.html">Python</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> <a href="/tag/design-of-everyday-software.html">Design Of Everyday Software</a> </p>
</footer><!-- /.post-info -->                <p>I just wanted to build something where I will be forced to explore and learn new things. I didn’t really know where to start so I started going back to one thing I have always thought had the potential to build interesting things. Reddit’s PRAW library, which is …</p>
                <a class="readmore" href="/learn-by-building-a-data-pipeline-part-0.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/managing-python-dependencies-robustly.html" rel="bookmark"
                           title="Permalink to "Managing Python Dependencies Robustly."">"Managing Python Dependencies Robustly."</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-10-01T12:00:01+05:30">
                Published: Mon 01 October 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> <a href="/tag/design-of-everyday-software.html">Design Of Everyday Software</a> </p>
</footer><!-- /.post-info -->                <p>I wanted to write a blog post about something I learned this week. We use a standard set of open source packages in our projects. Almost all of them are pretty stable and cause no problems, but on some rare occasions, rarer than in the case of code I write …</p>
                <a class="readmore" href="/managing-python-dependencies-robustly.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/richard-hamming-you-and-your-research.html" rel="bookmark"
                           title="Permalink to "Richard Hamming, You and Your Research"">"Richard Hamming, You and Your Research"</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-04-02T22:00:01+05:30">
                Published: Mon 02 April 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/reading.html">Reading</a>.</p>

</footer><!-- /.post-info -->                <p>This is one of those things when I first saw, I asked myself why couldn't I have watched this earlier. I really can't tell if it would have made any difference had I watched this lecture 10 years ago, but I cannot stop myself from wondering about it. </p>
<p>Richard Hamming …</p>
                <a class="readmore" href="/richard-hamming-you-and-your-research.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/observations-on-api-design.html" rel="bookmark"
                           title="Permalink to "Observations on API Design."">"Observations on API Design."</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-03-22T20:00:01+05:30">
                Published: Thu 22 March 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>
<p>tags: <a href="/tag/api-design.html">api-design</a> <a href="/tag/python.html">python</a> <a href="/tag/design-of-everyday-software.html">Design Of Everyday Software</a> </p>
</footer><!-- /.post-info -->                <p>There are a lot of resources regarding designing good APIs. I personally found <a href="https://www.youtube.com/watch?v=aAb7hSCtvGw">the talk from Joshua Bloch</a> to be highly informative.  I can also add Martin Fowler's articles and talks, along the with highly recommended book "Design Patterns" by Erich Gamma et al., as good sources to refer when …</p>
                <a class="readmore" href="/observations-on-api-design.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/learning-to-work-on-existing-codebases.html" rel="bookmark"
                           title="Permalink to "Learning to work on existing codebases."">"Learning to work on existing codebases."</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-02-07T20:00:01+05:30">
                Published: Wed 07 February 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>

</footer><!-- /.post-info -->                <p>Working with legacy code is probably the most common part of a developer’s job in the software industry. Unless you’re only going to work in super early phase startups or constantly get assigned to <a href="https://en.wikipedia.org/wiki/Greenfield_project">greenfield</a> projects, you <em>will</em> encounter legacy code. There are many articles written on the …</p>
                <a class="readmore" href="/learning-to-work-on-existing-codebases.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/mistakes-and-learnings.html" rel="bookmark"
                           title="Permalink to "Mistakes and Learnings."">"Mistakes and Learnings."</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-08-07T20:00:01+05:30">
                Published: Mon 07 August 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>

</footer><!-- /.post-info -->                <p>It’s been over a year since I have started working at my current company. There have been lots of ups and downs. I know that’s a cliched thing to say, but it’s true. In this post, I have decided to really introspect over some of the mistakes …</p>
                <a class="readmore" href="/mistakes-and-learnings.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/at-the-outset.html" rel="bookmark"
                           title="Permalink to "At the outset.."">"At the outset.."</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-05-02T20:00:01+05:30">
                Published: Tue 02 May 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/sri.html">Sri</a>
        </address>
<p>In <a href="/category/design-of-everyday-software.html">Design Of Everyday Software</a>.</p>

</footer><!-- /.post-info -->                <p>Like many, I too have been contemplating to start blogging. And here I am, after many false starts, finally starting to put words onto the internet. </p>
<p>My intentions here are very simple. I just want to log my learnings and observations, as I begin to transition from being a novice …</p>
                <a class="readmore" href="/at-the-outset.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a rel="nofollow" href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a rel="nofollow" href="https://www.python.org/">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a rel="nofollow" href="https://www.smashingmagazine.com/2009/08/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>